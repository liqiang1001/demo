<div>
  <nz-row>
    <div class="h-title">
      <span *ngIf="status==='0'">已答复</span>
      <span *ngIf="status==='1'">未处理</span>
    </div>
  </nz-row>
  <form nz-form [formGroup]="searchForm">
    <nz-row style="margin-top:15px">
      <nz-col nzSpan="2">
        <p class="t-title">投诉信息</p>
      </nz-col>
      <nz-col nzSpan="21">
        <nz-row>
          <nz-col nzLg="8" nzXl="7">
            <nz-form-item nzFlex>
              <nz-form-label nzSpan="7">投诉公司名称</nz-form-label>
              <nz-form-control nzSpan="15">
                <nz-col>
                  <input nz-input formControlName="companyName" readonly>
                </nz-col>
              </nz-form-control>
            </nz-form-item>
          </nz-col>
          <nz-col nzLg="8" nzXl="7">
            <nz-form-item nzFlex>
              <nz-form-label nzSpan="7">平台名称</nz-form-label>
              <nz-form-control nzSpan="15">
                <nz-col>
                  <input nz-input formControlName="platformName" readonly>
                </nz-col>
              </nz-form-control>
            </nz-form-item>
          </nz-col>
          <nz-col nzLg="8" nzXl="7">
            <nz-form-item nzFlex>
              <nz-form-label nzSpan="7">平台网址</nz-form-label>
              <nz-form-control nzSpan="15">
                <nz-col>
                  <input nz-input formControlName="website" readonly>
                </nz-col>
              </nz-form-control>
            </nz-form-item>
          </nz-col>
          <nz-col nzLg="8" nzXl="7">
            <nz-form-item nzFlex>
              <nz-form-label nzSpan="7">平台所在地</nz-form-label>
              <nz-form-control nzSpan="15">
                <nz-col>
                  <input nz-input formControlName="provinceId" readonly>
                </nz-col>
              </nz-form-control>
            </nz-form-item>
          </nz-col>
          <nz-col nzLg="8" nzXl="7">
            <nz-form-item nzFlex>
              <nz-form-label nzSpan="7">投诉来源</nz-form-label>
              <nz-form-control nzSpan="15">
                <nz-col>
                  <input nz-input formControlName="origin" readonly>
                </nz-col>
              </nz-form-control>
            </nz-form-item>
          </nz-col>
          <nz-col nzLg="8" nzXl="7">
            <nz-form-item nzFlex>
              <nz-form-label nzSpan="7">投诉日期</nz-form-label>
              <nz-form-control nzSpan="15">
                <nz-col>
                  <input nz-input formControlName="createDate" readonly>
                </nz-col>
              </nz-form-control>
            </nz-form-item>
          </nz-col>
          <nz-col nzLg="8" nzXl="7">
            <nz-form-item nzFlex>
              <nz-form-label nzSpan="7">处理状态</nz-form-label>
              <nz-form-control nzSpan="15">
                <nz-col>
                  <input nz-input formControlName="status" readonly>
                </nz-col>
              </nz-form-control>
            </nz-form-item>
          </nz-col>
        </nz-row>
      </nz-col>
    </nz-row>
    <nz-row style="margin-top:15px">
      <nz-col nzSpan="2">
        <p class="t-title">投诉人信息</p>
      </nz-col>
      <nz-col nzSpan="21">
        <nz-row>
          <nz-col nzLg="8" nzXl="7">
            <nz-form-item nzFlex>
              <nz-form-label nzSpan="7">姓名</nz-form-label>
              <nz-form-control nzSpan="15">
                <nz-col>
                  <input nz-input formControlName="userName" readonly>
                </nz-col>
              </nz-form-control>
            </nz-form-item>
          </nz-col>
          <nz-col nzLg="8" nzXl="7">
            <nz-form-item nzFlex>
              <nz-form-label nzSpan="7">身份证号</nz-form-label>
              <nz-form-control nzSpan="15">
                <nz-col>
                  <input nz-input formControlName="userIdNum" readonly>
                </nz-col>
              </nz-form-control>
            </nz-form-item>
          </nz-col>
          <nz-col nzLg="8" nzXl="7">
            <nz-form-item nzFlex>
              <nz-form-label nzSpan="7">联系方式</nz-form-label>
              <nz-form-control nzSpan="15">
                <nz-col>
                  <input nz-input formControlName="userPhone" readonly>
                </nz-col>
              </nz-form-control>
            </nz-form-item>
          </nz-col>
          <nz-col nzLg="8" nzXl="7">
            <nz-form-item nzFlex>
              <nz-form-label nzSpan="7">角色</nz-form-label>
              <nz-form-control nzSpan="15">
                <nz-col>
                  <input nz-input formControlName="reportRole" readonly>
                </nz-col>
              </nz-form-control>
            </nz-form-item>
          </nz-col>
          <nz-col nzLg="8" nzXl="7">
            <nz-form-item nzFlex>
              <nz-form-label nzSpan="7">居住地</nz-form-label>
              <nz-form-control nzSpan="15">
                <nz-col>
                  <input nz-input formControlName="userProvinceId" readonly>
                </nz-col>
              </nz-form-control>
            </nz-form-item>
          </nz-col>
        </nz-row>
      </nz-col>
    </nz-row>
    <nz-row style="margin-top:15px">
      <nz-col nzSpan="2">
        <p class="t-title">上传文件</p>
      </nz-col>
      <nz-col nzSpan="21">
        <nz-form-item nzFlex>
          <nz-form-label nzXl="2">证据上传文件</nz-form-label>
          <nz-form-control nzSpan="21">
            <div class="zhangju">
              <span style="margin-right:15px" (click)="seeImg(files,i)" *ngFor="let item of files;let i = index;">投诉举报文件{{i+1}}</span>
            </div>
          </nz-form-control>
        </nz-form-item>
        <nz-form-item nzFlex>
          <nz-form-label nzXl="2">合同上传文件</nz-form-label>
          <nz-form-control nzSpan="21">
            <div class="zhangju">
              <span style="margin-right:15px" (click)="seeImg(contectFiles,i)" *ngFor="let item of contectFiles;let i = index;">合同举报文件{{i+1}}</span>
            </div>
          </nz-form-control>
        </nz-form-item>
      </nz-col>
    </nz-row>
    <nz-row style="margin-top:15px">
      <nz-col nzSpan="2">
        <p class="t-title">内容描述</p>
      </nz-col>
      <nz-col nzSpan="21">
        <nz-form-item nzFlex>
          <nz-form-label nzXl="2"> 涉及金额</nz-form-label>
          <nz-form-control nzSpan="4">
            <input nz-input formControlName="amount" type="number" readonly>
          </nz-form-control>
          <div style="line-height:39px;color: rgba(0, 0, 0, 0.65);margin-left:10px">(元)</div>
        </nz-form-item>
        <nz-form-item nzFlex style="margin-top:15px;">
          <nz-form-label nzXl="2"> 内容描述</nz-form-label>
          <nz-form-control nzSpan="18">
            <textarea rows="4" nz-input formControlName="description" readonly></textarea>
          </nz-form-control>
        </nz-form-item>
        <nz-form-item nzFlex style="margin-top:15px;">
          <nz-form-label nzXl="2"> 答复内容</nz-form-label>
          <nz-form-control nzSpan="18">
            <textarea rows="4" readonly nz-input formControlName="feedBack" placeholder="您好，根据您的情况，已向上级反映，请耐心等待。"></textarea>
          </nz-form-control>
        </nz-form-item>
      </nz-col>
    </nz-row>

    <nz-modal nzWidth="1000" [(nzVisible)]="isDetail" nzTitle="答复内容" nzFooter=" " (nzOnCancel)="handleCancel()">
      <div>
        <nz-row>
          <nz-form-item nzFlex>
            <nz-form-label nzSpan="3">答复内容</nz-form-label>
            <nz-form-control nzSpan="21">
              <textarea rows="4" nz-input formControlName="inputValue"></textarea>
            </nz-form-control>
          </nz-form-item>
        </nz-row>
        <nz-row>
          <nz-form-item nzFlex>
            <nz-form-label nzSpan="3">答复口径库</nz-form-label>
            <nz-form-control nzSpan="21">
              <nz-select style="width: 100%" [nzPlaceHolder]="'请选择'" formControlName="inputValue2" nzAllowClear
                (ngModelChange)="ngModelChanges($event)">
                <nz-option *ngFor="let item of statusList" [nzLabel]="item.name" [nzValue]="item">
                </nz-option>
              </nz-select>
            </nz-form-control>
          </nz-form-item>
        </nz-row>
      </div>
      <nz-row>
        <nz-col nzSpan="24" style="text-align: center;margin-top:20px">
          <button nz-button [nzType]="''" (click)="handleCancel()" style="margin-right:20px;">
            <span>取消</span>
          </button>
          <button nz-button [nzType]="'primary'" (click)="handleOk()">
            <span>确定</span>
          </button>
        </nz-col>
      </nz-row>
    </nz-modal>
  </form>

  <nz-row nzSpan="24" style="text-align: center;margin-top:30px">
    <button nz-button (click)="goBack()" style="margin-right:20px;" type="button">
      <span>返回</span>
    </button>
    <button nz-button [nzType]="'primary'" (click)="reply()" *ngIf="status==='1'" type="button">
      <span>回复</span>
    </button>
  </nz-row>
</div>



<!-- 幻灯片 -->
<nz-modal nzWidth="1200" [(nzVisible)]="isImage" nzTitle="文件预览" nzFooter=" " (nzOnCancel)="handleCancel2()">
  <nz-row style="display: flex;align-items: center;">
    <nz-col nzSpan="2" style="text-align: center;font-size:28px; " (click)="pre()">
      <i nz-icon type="left-circle" theme="outline" style="cursor: pointer;"></i>
    </nz-col>
    <nz-col nzSpan="20">
      <div style="width:80%;height:auto;margin:0 auto;text-align: center" *ngIf="imgurl">
        <img [src]="imgurl" style="width:100%;margin:0 auto;">
      </div>
    </nz-col>
    <nz-col nzSpan="2" style="text-align: center;font-size:28px;" (click)="next()">
      <i nz-icon type="right-circle" theme="outline" style="cursor: pointer;"></i>
    </nz-col>
  </nz-row>
</nz-modal>
